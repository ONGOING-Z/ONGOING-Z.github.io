<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Mybatis缓存机制 | ongoing's blog</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css></head><body><nav><ul class=menu><li><a href=/>首页</a></li><li><a href=/categories/>分类</a></li><li><a href=/about/>关于</a></li></ul><hr></nav><div class=article-meta><h1><span class=title>Mybatis缓存机制</span></h1><h2 class=date>2024/09/03</h2></div><main><p>提高查询效率和减轻数据库压力。</p><h3 id=分类>分类</h3><ul><li>一级缓存</li><li>二级缓存</li><li>第三方缓存</li></ul><h3 id=一级缓存>一级缓存</h3><p>本地缓存。SqlSession级别。</p><p>如何验证，在IDEA中查看控制台是否执行了sql查询语句，如果是直接返回结果，就是从缓存中拿的，不是去查的数据库。</p><h3 id=二级缓存>二级缓存</h3><ol><li>作用域比一级缓存大。</li><li>多个sqlsession可以共用一级缓存。</li><li>默认情况下，二级缓存关闭，需要手工开启。</li></ol><p>开启二级缓存后：二级缓存 - 一级缓存 - 数据库</p><h3 id=失效情形>失效情形</h3><p>两次查询之间执行增删改操作，会同时清空一级缓存和二级缓存。</p></main><script>document.addEventListener("DOMContentLoaded",function(){const e=new PhotoSwipeLightbox({gallery:".pswp-gallery",children:"a",pswpModule:PhotoSwipe});e.init()})</script>