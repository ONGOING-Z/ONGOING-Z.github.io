<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.loli.net/css?family=Noto+Serif+SC:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"www.ongoing.ink","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.8.1","exturl":false,"sidebar":{"position":"left","display":"remove","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":false,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>
<meta name="description" content="记录自己在使用vim中使用的命令和一些方法。">
<meta property="og:type" content="article">
<meta property="og:title" content="记录一些vim基础">
<meta property="og:url" content="https://www.ongoing.ink/posts/record-some-basics-of-vim.html">
<meta property="og:site_name" content="ongoing&#39;s blog">
<meta property="og:description" content="记录自己在使用vim中使用的命令和一些方法。">
<meta property="og:locale">
<meta property="article:published_time" content="2020-05-13T01:26:21.000Z">
<meta property="article:modified_time" content="2021-11-18T13:24:08.554Z">
<meta property="article:author" content="ongoing">
<meta property="article:tag" content="Vim">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://www.ongoing.ink/posts/record-some-basics-of-vim.html">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-Hans","comments":true,"permalink":"https://www.ongoing.ink/posts/record-some-basics-of-vim.html","path":"posts/record-some-basics-of-vim.html","title":"记录一些vim基础"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>记录一些vim基础 | ongoing's blog</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">ongoing's blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section">Archives</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section">Tags</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section">Categories</a></li>
  </ul>
</nav>




</div>
    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://www.ongoing.ink/posts/record-some-basics-of-vim.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ongoing">
      <meta itemprop="description" content="Good cooking takes time.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ongoing's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          记录一些vim基础
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-05-13 09:26:21" itemprop="dateCreated datePublished" datetime="2020-05-13T09:26:21+08:00">2020-05-13</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Fundamental/" itemprop="url" rel="index"><span itemprop="name">Fundamental</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>记录自己在使用vim中使用的命令和一些方法。</p>
<hr>
<span id="more"></span>

<!-- toc -->

<hr>
<center><h2> VIM </h2></center>

<h2 id="Basic"><a href="#Basic" class="headerlink" title="Basic"></a>Basic</h2><p><code>i</code>: Insert text before the cursor<br><code>o</code>: Begin a new line below the cursor<br><code>R</code>: Replace character continually<br><code>r</code>: Replace character once</p>
<p>1、在 vi 的环境中,如何将目前正在编辑的文件另存新档名为 newfilename</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:w newfilename</span><br></pre></td></tr></table></figure>

<p>2、到达指定行<br>2.1 In normal mode: <code>line_numberG</code><br>  例: 到达第九行即<code>9G</code><br>2.2 In command mode: <code>:line_number</code><br>  例: 到达第九行即<code>:9</code><br>  <strong>注</strong>: 认为第一种方法更为快速，因为如果是第二种方法的话，目光还需要向下移动。</p>
<p>3、到达指定行<br>( vim <code>&lt;leader&gt;</code>键: <code>\</code></p>
<p>4、vim 替换<br>   具体查看vim帮助文档<code>:h substitute</code><br>   全局替换: <code>:%s/search_string/substituted_string/g</code><br>   此处：</p>
<ul>
<li><code>%</code>: 指范围，相当于<code>1~$</code>，文档的第一行到最后一行</li>
<li><code>g</code>: replace all occurrences in the line、 Without this argument, replacement occurs only for the first occurrence in  each line.</li>
</ul>
<p>5、vim 替换<br>vim精确查找<br>先看一个例子，准确查找字符串int：</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/\&lt;int\&gt;</span><br></pre></td></tr></table></figure>
<p>  其中</p>
<ul>
<li><code>\&lt;</code>: 匹配单词开头</li>
<li><code>\&gt;</code>: 匹配单词结尾</li>
</ul>
<p>6、拷贝整个文件</p>
   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">:%y</span><br><span class="line">ggyG</span><br></pre></td></tr></table></figure>

<p>7、 获得当前文件的名称<br>   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 在屏幕上显示当前名称</span><br><span class="line">:echo expand(&quot;%:t&quot;)</span><br><span class="line"># 粘贴复制当前文件名称</span><br><span class="line">:let @f=expand(&quot;%:t&quot;)</span><br><span class="line">然后粘贴即可</span><br></pre></td></tr></table></figure></p>
<p>8、 <code>&lt;esc&gt;</code> == <code>Ctrl - [</code><br>9、 合并上下行<code>shift + j</code><br>   <code>shift + j</code>可以删除行末尾的回车<br>10、 查找到结果后<br>   (1) 向下查询：<code>n</code><br>   (2) 向上查询：<code>shift + n</code>(联想到网页的tab与shift tab)</p>
<p>11、 Visual mode in vim<br>      (1) <code>v</code>: 选择字符<br>      (1) <code>shift + v</code>: 选择整行<br>      (1) <code>ctrl + v</code>: 选择整块</p>
<p>12、 <code>gUaW</code>：大写一个单词</p>
<p>13、 Paste local timestamp<br>    <code>&quot;=strftime(&quot;%c&quot;)&lt;cr&gt;p</code><br>    <code>&quot;=</code>: expression register</p>
<p>14、 <code>q:</code><br>Opens a history of previous commands、</p>
<p>14、 vim宏录制<br>      目的: 减少重复动作、<br>      (1) In <code>normal</code> mode input <code>qa</code>(or qb, qc、..a, b, c, d is your register)<br>      (2) And then you will see “starting 、..” singnal below.<br>      (3) Quit this function: in normal mode input <code>q</code>, you will end this process、<br>      使用宏:<br>      In <code>normal</code> mode input <code>@a</code>, <code>a</code> is your register name、 If you want it to run several times, add <code>number</code> in front of <code>@a</code>. For example, <code>7@a</code>.</p>
<p>16、 到达行首<br>In normal mode input <code>0</code>、</p>
<p>17、 替换实例<br>17.1 删除行首数字</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:%s/^[0-9]//g</span><br></pre></td></tr></table></figure>

<p>17.2 删除行尾数字</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:%s/[0-9]$//g</span><br></pre></td></tr></table></figure>

<p>18、 删除空行</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:g/^$/d</span><br></pre></td></tr></table></figure>
<p>如果空行开头有空格，这种方法就不好用了，使用</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:g/^\s*$/d</span><br></pre></td></tr></table></figure>

<p>19、 在使用vim中的<code>y</code>进行复制后，使用<code>p</code>进行粘贴，再次使用<code>p</code>就不能粘贴了，想要粘贴还得去复制一次，很繁琐</p>
<p>解决方法: 将使用<code>p</code>替换成<code>&quot;0p</code>，这样就可以无限粘贴。<br><em>注: 寄存器<code>0</code>的位置放置的就是最近复制的内容。</em></p>
<p>20、 vim <code>read</code><br>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:read !command</span><br></pre></td></tr></table></figure><br>The way to append the output of an external command、</p>
<p>21、 <code>ctrl + f / ctrl + b</code>: 快速浏览<br>22、 <code>di(</code><br>Delete all content inside ()</p>
<p>23、delete a pairs by using tpope/vim-surround</p>
<p>   删除一对括号: <code>ds(</code> # delete surround<br>   删除一对双引号: <code>ds&quot;</code><br>   删除一对单引号: <code>ds&#39;</code></p>
<p>   添加一对括号:<br>   <em>普通模式</em>: <code>ysiw(</code><br>   <em>可视模式</em>: <code>S(</code></p>
<p>   以下是<a target="_blank" rel="noopener" href="https://github、com/tpope/vim-surround">tpope/vim-surround</a>节选</p>
<p>   It’s easiest to explain with examples、 Press <code>cs&quot;&#39;</code> inside<br>   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;Hello world!&quot;</span><br></pre></td></tr></table></figure><br>   to change it to<br>   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;Hello world!&#x27;</span><br></pre></td></tr></table></figure><br>   Now press <code>cs&#39;&lt;q&gt;</code> to change it to<br>   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;q&gt;Hello world!&lt;/q&gt;</span><br></pre></td></tr></table></figure><br>   To go full circle, press <code>cst&quot;</code> to get<br>   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;Hello world!&quot;</span><br></pre></td></tr></table></figure><br>   To remove the delimiters entirely, press <code>ds&quot;</code>、</p>
   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hello world!</span><br></pre></td></tr></table></figure>

<p>24、 <code>!$</code><br> <code>!</code>$是一个特殊的环境变量，它代表了上一个命令的最后一个字符串。如：你可能会这样</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir mydir</span><br><span class="line">$ mv mydir yourdir</span><br><span class="line">$ <span class="built_in">cd</span> yourdir</span><br></pre></td></tr></table></figure>

<p>  可以改成：<br>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir mydir</span><br><span class="line">$ mv !$ yourdir</span><br><span class="line">$ <span class="built_in">cd</span> !$</span><br></pre></td></tr></table></figure><br>25、 在 bash 里，使用 Ctrl-R 而不是上下光标键来查找历史命令。<br>26、 使用 man ascii 来查看 ASCII 表。<br>27、 命令行注释命令: <code>alt + #</code><br>28、 vim中查看缓冲区: <code>:ls</code><br>然后使用<code>:buffer num</code>进行切换</p>
<p>29、 vim 书签<br>29.1 创建书签: <code>m + 字母</code></p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ma  // 书签名称必须是单个字母，此处示例为a</span><br></pre></td></tr></table></figure>
<p>29.2 跳转书签</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">` + 书签名称</span><br></pre></td></tr></table></figure>
<p>29.3 列出所有书签: <code>:marks</code><br>29.4 删除书签: <code>:delmarks name</code></p>
<p>30、 在vim中访问shell<br>30.1 进入shell: <code>:shell</code> or <code>:sh</code><br>30.2 离开shell: <code>exit</code></p>
<h2 id="Plug插件管理器删除插件"><a href="#Plug插件管理器删除插件" class="headerlink" title="Plug插件管理器删除插件"></a>Plug插件管理器删除插件</h2><p>1、注释掉或删除在<code>、vimrc</code>中的添加的<code>Plug</code>命令；<br>2、运行<code>:source ~/vimrc</code>或重启vim；<br>3、运行<code>:PlugClean</code>删除插件。</p>
<h2 id="Vim-example"><a href="#Vim-example" class="headerlink" title="Vim example"></a>Vim example</h2><p>1、 How to convert this piece of text(from vim in reddit)<br>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Arch linux</span><br><span class="line">Manjaro</span><br><span class="line">Ubuntu</span><br></pre></td></tr></table></figure><br>into<br>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. Arch linux</span><br><span class="line">2. Manjaro</span><br><span class="line">3. Ubuntu</span><br></pre></td></tr></table></figure></p>
<p>  Ways:<br>  (1) Make 3 lines of text out first one<br>  (2) use visual-block mode to insert <code>0.</code> for 3 lines<br>  (3) use visual-block again and <code>g&lt;Ctrl-a&gt;</code> to “sequentially” increase your <code>0</code>s</p>
<p>附: <a target="_blank" rel="noopener" href="https://github.com/ONGOING-Z/dotfiles/blob/master/vim/vimrc_whole.backup">我的.vimrc</a></p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Vim/" rel="tag"># Vim</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/posts/link-to-github-and-view-the-updated-history-of-articles.html" rel="prev" title="文章关联github及查看文章源文件更新历史">
                  <i class="fa fa-chevron-left"></i> 文章关联github及查看文章源文件更新历史
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/posts/the-font-configuration-of-wps-for-linux.html" rel="next" title="wps-for-linux的字体添加及配置">
                  wps-for-linux的字体添加及配置 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2020 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ongoing</span>
</div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  



  <script src="/js/third-party/fancybox.js"></script>


  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
