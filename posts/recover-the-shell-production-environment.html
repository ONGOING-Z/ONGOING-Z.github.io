<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.loli.net/css?family=Noto+Serif+SC:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"www.ongoing.ink","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.8.1","exturl":false,"sidebar":{"position":"left","display":"remove","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":false,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>
<meta name="description" content="最近因为在安装一个gdb的浏览器版本时将ubuntu16.04本机的Python2环境给修改了，然后第二天早上打开我的电脑，发现启动不了，将修改的软链接给还原回来，还是不行…">
<meta property="og:type" content="article">
<meta property="og:title" content="shell生产力环境恢复">
<meta property="og:url" content="https://www.ongoing.ink/posts/recover-the-shell-production-environment.html">
<meta property="og:site_name" content="ongoing&#39;s blog">
<meta property="og:description" content="最近因为在安装一个gdb的浏览器版本时将ubuntu16.04本机的Python2环境给修改了，然后第二天早上打开我的电脑，发现启动不了，将修改的软链接给还原回来，还是不行…">
<meta property="og:locale">
<meta property="article:published_time" content="2020-07-30T13:55:40.000Z">
<meta property="article:modified_time" content="2021-11-19T15:13:19.856Z">
<meta property="article:author" content="ongoing">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://www.ongoing.ink/posts/recover-the-shell-production-environment.html">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-Hans","comments":true,"permalink":"https://www.ongoing.ink/posts/recover-the-shell-production-environment.html","path":"posts/recover-the-shell-production-environment.html","title":"shell生产力环境恢复"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>shell生产力环境恢复 | ongoing's blog</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">ongoing's blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section">Archives</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section">Tags</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section">Categories</a></li>
  </ul>
</nav>



<link rel="manifest" href="/manifest.json">

</div>
    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://www.ongoing.ink/posts/recover-the-shell-production-environment.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="ongoing">
      <meta itemprop="description" content="Good cooking takes time.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ongoing's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          shell生产力环境恢复
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-07-30 21:55:40" itemprop="dateCreated datePublished" datetime="2020-07-30T21:55:40+08:00">2020-07-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Shell/" itemprop="url" rel="index"><span itemprop="name">Shell</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>最近因为在安装一个gdb的浏览器版本时将ubuntu16.04本机的Python2环境给修改了，然后第二天早上打开我的电脑，发现启动不了，将修改的软链接给还原回来，还是不行…</p>
<span id="more"></span>


<p>借着这个”机会”，我将windows10又重新装入我的电脑了，因为最近刚入手一个西部数据1T移动硬盘，买回来之后发现识别不了，它支持的平台只有windows和mac，看了希捷移动硬盘介绍，也是这样。</p>
<p>中间省略装系统步骤…这次安装的ubuntu版本还是16.04，为什么呢？因为我之前也安装了ubuntu20.04，安装好发现vmware在这个版本上少了一些库，但是我有好多个虚拟机需要使用，所以最后我又换回了稳定的ubuntu16.04。</p>
<p>下面是我恢复shell中包括vim、tmux、zsh等等的生产力步骤:</p>
<!-- toc -->

<hr>
<h2 id="cpas-gt-ctrl"><a href="#cpas-gt-ctrl" class="headerlink" title="cpas -&gt; ctrl"></a>cpas -&gt; ctrl</h2><p>安装 <code>gnome-tweak-tool</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install gnome-tweak-tool</span><br></pre></td></tr></table></figure>

<h2 id="tmux-tpm插件管理器"><a href="#tmux-tpm插件管理器" class="headerlink" title="tmux tpm插件管理器"></a>tmux tpm插件管理器</h2><p><a target="_blank" rel="noopener" href="https://github.com/tmux-plugins/tpm">tpm的github仓库</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm</span><br></pre></td></tr></table></figure>

<p>安装tmux插件: <code>prefix + I</code>，默认<code>prefix</code>是<code>&lt;ctrl&gt;b</code></p>
<h2 id="zsh-install"><a href="#zsh-install" class="headerlink" title="zsh install"></a>zsh install</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install zsh</span><br></pre></td></tr></table></figure>

<h2 id="zplug"><a href="#zplug" class="headerlink" title="zplug"></a>zplug</h2><p><a target="_blank" rel="noopener" href="https://github.com/zplug/zplug">zplug的github仓库</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/zplug/zplug .zplug</span><br></pre></td></tr></table></figure>

<h2 id="oh-my-zsh"><a href="#oh-my-zsh" class="headerlink" title="oh-my-zsh"></a>oh-my-zsh</h2><p><a target="_blank" rel="noopener" href="https://github.com/ohmyzsh/ohmyzsh">oh-my-zsh的github仓库</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/ohmyzsh/ohmyzsh.git ~/.oh-my-zsh</span><br></pre></td></tr></table></figure>

<h3 id="oh-my-zsh的一个插件"><a href="#oh-my-zsh的一个插件" class="headerlink" title="oh-my-zsh的一个插件"></a>oh-my-zsh的一个插件</h3><p><a target="_blank" rel="noopener" href="https://github.com/zsh-users/zsh-autosuggestions/blob/master/INSTALL.md">zsh-autosuggestions的github仓库</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-autosuggestions <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-autosuggestions</span><br></pre></td></tr></table></figure>

<h3 id="zsh命令行去掉git信息"><a href="#zsh命令行去掉git信息" class="headerlink" title="zsh命令行去掉git信息"></a>zsh命令行去掉git信息</h3><p>一些zsh的theme的命令行中有太多信息，这会干扰自己，并且会大大增加加载时间，我将git信息给移除出去。</p>
<p>在自己的<code>~/.zshrc</code>找到<code>themes</code>关键字，然后到<code>~/.ohmyzsh/themes</code>下找到自己的themes，打开，修改其中的信息，这里是直接将git信息删去了.</p>
<h2 id="coc-nvi环境依赖-nodejs"><a href="#coc-nvi环境依赖-nodejs" class="headerlink" title="coc.nvi环境依赖 nodejs"></a><a target="_blank" rel="noopener" href="https://github.com/neoclide/coc.nvim/wiki/Install-coc.nvim">coc.nvi环境依赖 nodejs</a></h2><h3 id="1-Install-nodejs-gt-10-12"><a href="#1-Install-nodejs-gt-10-12" class="headerlink" title="1. Install nodejs &gt;= 10.12:"></a>1. Install nodejs &gt;= 10.12:</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sL install-node.now.sh/lts | bash</span><br></pre></td></tr></table></figure>

<h3 id="2-yarn"><a href="#2-yarn" class="headerlink" title="2. yarn"></a>2. <a target="_blank" rel="noopener" href="https://linux265.com/news/3756.html">yarn</a></h3><p>按照以下步骤在 Ubuntu 16.04/18.04 系统上安装 Yarn：</p>
<p>步骤1.添加GPG密钥</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sS https://dl.yarnpkg.com/debian/pubkey.gpg | sudo apt-key add -</span><br></pre></td></tr></table></figure>

<p>步骤2.添加Yarn存储库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;deb https://dl.yarnpkg.com/debian/ stable main&quot;</span> | sudo tee /etc/apt/sources.list.d/yarn.list</span><br></pre></td></tr></table></figure>
<p>步骤3.更新包列表并安装Yarn</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt install yarn</span><br></pre></td></tr></table></figure>

<h2 id="command-t-一款vim文件搜索插件"><a href="#command-t-一款vim文件搜索插件" class="headerlink" title="command-t 一款vim文件搜索插件"></a>command-t 一款vim文件搜索插件</h2><p><a target="_blank" rel="noopener" href="https://github.com/wincent/command-t">command-t的github仓库</a></p>
<p>注: 我所使用的vim插件管理器是<a target="_blank" rel="noopener" href="https://github.com/junegunn/vim-plug">vim-plug</a>。在vim中执行<code>:PlugInstall</code>安装好<code>command-t</code>后，这个是时候command-t还是不能使用的，还需要安装一些依赖。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install aptitude</span><br><span class="line">sudo aptitude install ruby-dev</span><br></pre></td></tr></table></figure>

<p>到vim安装的插件目录下<code>~/.vim/plugged/command-t</code>，如果你用插件管理器是bundle的话，目录则是<code>~/.vim/bundle/command-t</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.vim/plugged/command-t</span><br><span class="line">rake make</span><br></pre></td></tr></table></figure>

<p>之后即可使用command-t进行文件搜索。</p>

    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/posts/binary-search.html" rel="prev" title="binary search">
                  <i class="fa fa-chevron-left"></i> binary search
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/posts/vim-instant-preview.html" rel="next" title="Vim instant preview">
                  Vim instant preview <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2020 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fab fa-envira"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ongoing</span>
</div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/lozad@1.16.0/dist/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  



  <script src="/js/third-party/fancybox.js"></script>


  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js","integrity":"sha256-r+3itOMtGGjap0x+10hu6jW/gZCzxHsoKrOd7gyRSGY="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
