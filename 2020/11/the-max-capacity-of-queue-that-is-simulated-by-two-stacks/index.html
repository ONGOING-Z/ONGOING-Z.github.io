<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>The max capacity of queue that is simulated by two stacks | ongoing's blog</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css></head><body><nav><ul class=menu><li><a href=/>首页</a></li><li><a href=/categories/>分类</a></li><li><a href=/about/>关于</a></li></ul><hr></nav><div class=article-meta><h1><span class=title>The max capacity of queue that is simulated by two stacks</span></h1><h2 class=date>2020/11/03</h2></div><main><h3 id=一背景>一、背景</h3><p>今天在做面试题目的时候遇到了一道题：使用两个栈来模拟一个队列，栈 1 容量为 m，栈 2 容量为 n，且 m>n,
请问这个队列的最大容量是多少？</p><img src=capacity_1.png alt><p>初始状态：</p><ul><li>$S1.capacity() = m$</li><li>$S2.capacity() = n$</li><li>$Q.size() = 0$</li></ul><p>假设$S1$用作队列入队的存储空间，$S2$用作队列出对的缓存空间。</p><h3 id=二步骤>二、步骤</h3><ol><li><p>假设现在队列 Q 进入$n$个元素，如下面这个状态</p><img src=capacity_2.png alt></li><li><p>对应的，会在 S1 入栈$n$个元素</p><img src=capacity_3.png alt></li><li><p>将 S1 中的元素全部出栈，这 n 个元素被放入栈 S2 中</p><img src=capacity_4.png alt></li><li><p>假设现在再向队列 Q 中推入$n+1$个元素</p><img src=capacity_5.png alt></li><li><p>对应的，向栈 S1 中入栈$n+1$个元素</p><img src=capacity_6.png alt></li><li><p>此时进行出队操作，$E1\sim En$先出队列即：缓存栈 S2 中元素全部出栈</p><img src=capacity_7.png alt></li><li><p>接下来继续出队</p><ol><li><p>先将 S1 中出栈 n 个元素到 S2 中</p><img src=capacity_8.png alt></li><li><p>队列继续出栈</p><ol><li>$E_{n+1}$出队列，对应的栈$S1$出栈最后一个元素</li><li>队列中元素 En+2 到 E2n+1 出队，对应栈 S2 出栈所有元素</li></ol></li></ol></li></ol><p>从以上操作中可以看出两个栈模拟出的队列的最大容量为$\color{blue}{2n+1}$。再对队列入队的话，就不能得到正常出队序列了。</p></main><script>document.addEventListener("DOMContentLoaded",function(){const e=new PhotoSwipeLightbox({gallery:".pswp-gallery",children:"a",pswpModule:PhotoSwipe});e.init()})</script>