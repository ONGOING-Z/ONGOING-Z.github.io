<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>一些Linux的使用 | ongoing's blog</title><link rel=dns-prefetch href=https://image.ongoingblog.org><link rel=preconnect href=https://image.ongoingblog.org crossorigin><link rel=preload href=/css/style.css as=style><link rel=preload href=/css/fonts.css as=style><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/chroma.css><link rel=prefetch href=/js/katex/katex.min.css as=style><link rel=prefetch href=/js/katex/katex.min.js as=script><link rel=prefetch href=/css/loading.css as=style><script>function loadKaTeX(){const e=document.body?document.body.textContent:"",t=e.match(/\$\$|\\\[|\\\(|\$[^$\n]+\$/)||document.querySelector('script[type="math/tex"]');if(t){const e=document.createElement("link");e.rel="stylesheet",e.href="/js/katex/katex.min.css",e.onerror=function(){console.warn("KaTeX CSS 加载失败，尝试使用备用路径"),e.href="https://ongoingblog.org/js/katex/katex.min.css"},document.querySelector(`link[href="${e.href}"]`)||document.head.appendChild(e);const t=document.createElement("link");t.rel="stylesheet",t.href="/css/loading.css",t.onerror=function(){console.warn("loading.css 加载失败，尝试使用备用路径"),t.href="https://ongoingblog.org/css/loading.css"},document.querySelector(`link[href="${t.href}"]`)||document.head.appendChild(t);const n=document.createElement("script");n.src="/js/katex/katex.min.js",n.onerror=function(){console.warn("KaTeX JS 加载失败，尝试使用备用路径"),n.src="https://ongoingblog.org/js/katex/katex.min.js"},n.async=!0,n.onload=function(){const e=document.createElement("script");e.src="/js/katex/contrib/auto-render.min.js",e.async=!0,e.onload=function(){typeof renderMathInElement=="function"&&renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}],throwOnError:!1})},document.head.appendChild(e)},document.head.appendChild(n)}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",function(){setTimeout(loadKaTeX,100)}):setTimeout(loadKaTeX,100)</script><script>document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelectorAll("img.lazy-image[data-src]");function s(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)+100&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function t(e){const t=e.getAttribute("data-src");if(t){const n=e.closest(".image-loading-container");return n&&n.classList.add("loading"),e.src=t,e.removeAttribute("data-src"),e.classList.remove("lazy-image"),e.addEventListener("load",function(){n&&n.classList.remove("loading")}),e.addEventListener("error",function(){n&&n.classList.remove("loading")}),!0}return!1}n.forEach(e=>{s(e)&&t(e)});const e=document.querySelectorAll("img.lazy-image[data-src]");if(e.length>0&&"IntersectionObserver"in window){const n=new IntersectionObserver((e,n)=>{e.forEach(e=>{if(e.isIntersecting){const s=e.target;t(s)&&n.unobserve(s)}})},{rootMargin:"100px"});e.forEach(e=>{n.observe(e)})}else e.length>0&&e.forEach(e=>{t(e)});document.querySelectorAll("main img").forEach(e=>{if(e.parentNode.tagName==="A"){e.parentNode.target="_blank";return}const t=document.createElement("a");t.href=e.src||e.getAttribute("data-src")||"",t.target="_blank",t.style.cursor="zoom-in",e.parentNode.insertBefore(t,e),t.appendChild(e)})})</script><link rel=prefetch href=/pagefind/pagefind-ui.css as=style><link rel=prefetch href=/pagefind/pagefind-ui.js as=script></head><body><nav><ul class=menu><li><a href=/>首页</a></li><li><a href=/categories/>分类</a></li><li><a href=/about/>关于</a></li><li><a href=/tags/>标签</a></li><li><a href=/#search onclick="return toggleSearch(),!1">搜索</a></li></ul><hr></nav><div id=search-container style=display:none><div id=search></div></div><script>let pagefindInitialized=!1,pagefindScriptLoaded=!1,pagefindCssLoaded=!1;function loadPagefind(){if(pagefindScriptLoaded)return;if(pagefindScriptLoaded=!0,!pagefindCssLoaded){const e=document.createElement("link");e.rel="stylesheet",e.href="/pagefind/pagefind-ui.css",e.onerror=function(){console.warn("Pagefind CSS 加载失败，尝试使用备用路径"),e.href="https://ongoingblog.org/pagefind/pagefind-ui.css"},document.head.appendChild(e),pagefindCssLoaded=!0}const e=document.createElement("script");e.src="/pagefind/pagefind-ui.js",e.async=!0,e.onload=function(){typeof PagefindUI!="undefined"&&initializePagefind()},e.onerror=function(){console.error("Pagefind JS 加载失败，尝试使用备用路径"),e.src="https://ongoingblog.org/pagefind/pagefind-ui.js"},document.head.appendChild(e)}function initializePagefind(){if(!pagefindInitialized)try{new PagefindUI({element:"#search",showSubResults:!0,showImages:!1}),pagefindInitialized=!0}catch(e){console.error("Pagefind 初始化失败:",e)}}function toggleSearch(){const e=document.getElementById("search-container");e.style.display==="none"||e.style.display===""?(e.style.display="block",pagefindScriptLoaded?!pagefindInitialized&&typeof PagefindUI!="undefined"&&initializePagefind():loadPagefind(),setTimeout(()=>{const t=e.querySelector("input");t&&t.focus()},100)):e.style.display="none"}</script><div class=article-meta><h1><span class=title>一些Linux的使用</span></h1><h2 class=date>2020/05/03</h2></div><main data-pagefind-body><p>记录自己在使用linux中渐渐使用的命令和一些方法。</p><ol><li><p>在一个终端中打开另一个窗口</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ctrl + <span class=nb>shift</span> + t
</span></span></code></pre></div></li><li><p>回到上一次目录</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> -
</span></span></code></pre></div></li><li><p>列出当前登录用户</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>w
</span></span></code></pre></div></li><li><p>Linux进出sudo的方法</p><p>进入<code>sudo</code>mode = <code>sudo -i</code>
退出<code>sudo</code>mode = <code>ctrl + d</code></p></li><li><p>grep(general regular expression print)
<code>ls | grep "linux"</code> = List file that its name includes string &ldquo;linux&rdquo;.</p></li><li><p>Clear commands history
<code>history -c</code></p></li><li><p>终端锁定与退出锁定(终端无法输入的假死问题)<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></p><ul><li>终端锁定
<code>ctrl + s</code></li><li>退出锁定
<code>ctrl + q</code></li></ul></li><li><p>File permission</p><ul><li><code>chmod</code>
Change mode.
10number = <code>d</code>(directory) or <code>-</code>(that represents file)
Permission =<ul><li><code>r</code> = (100)<sub>2</sub> //4</li><li><code>w</code> = (010)<sub>2</sub> //2</li><li><code>x</code> = (001)<sub>2</sub> //1
eg. <code>chmod 777 file/dir</code> // Give file/dir rwx permission.</li></ul></li><li><code>chgrp</code>
Change file group.</li><li><code>chown</code>
Change file owner.</li></ul></li><li><p>Change font size in terminal</p><p>Change bigger = <code>ctrl -</code>
Change smaller = <code>ctrl +</code></p></li><li><p>Rename</p><p>将test.jpg改成test1.jpg</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>mv <span class=o>{</span>test,test1<span class=o>}</span>.jpg
</span></span></code></pre></div></li><li><p>在linux中跳出很深的文件夹，如果没有记住文件路径，就要一层层<code>cd</code>过去，浪费很多的时间。</p><p>解决方法1
在<code>/etc/profile.d/</code>目录下新建例如<code>dd.sh</code>文件，文件内容如下</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>alias</span> <span class=nv>dd</span><span class=o>=</span><span class=s1>&#39;cd /media/folder1/folder2/.../&#39;</span>
</span></span></code></pre></div><p>接下来保存退出</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>source</span> dd.sh
</span></span></code></pre></div><p>效果 = 在命令行中输入<code>dd</code>即可实现挑入指定目录。
并且重启之后在命令行中依然生效。</p><p>解决方法2
在<code>~/.bashrc</code>中添加</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>alias</span> <span class=nv>dd</span><span class=o>=</span><span class=s1>&#39;cd /media/folder1/folder2/.../&#39;</span>
</span></span></code></pre></div><p>也可以有同样的效果。</p></li><li><p>Linux光标移动</p><p><code>ctrl + a</code> = 行首
<code>ctrl + e</code> = 行尾</p><p><code>ctrl + f</code> = 光标右移
<code>ctrl + b</code> = 光标左移</p><p><code>esc + f</code> = 右移一个单词
<code>esc + b</code> = 左移一个单词</p></li><li><p>Linux <code>mv</code>
功能
(1) 修改名称
(2) 移动文件</p></li><li><p>Bash
(1) 注释 = <code>#</code>
(2) <code>#!/bin/bash</code>的意义
以<code>#</code>代表是个注释，但是<code>#!</code>并不是注释了，它用来指明这个脚本所需要的<code>Shell</code>
(3) shell变量类型
变量类型只有字符串</p></li><li><p>caps -> ctrl(reference 32)</p></li><li><p>Download video in CLI
(1) you-get
(2)youtube_dl</p></li><li><p>du(disk usage)</p></li><li><p><code>ctrl + u</code> = 从光标处删除文本直到行首</p></li><li><p><code>ctrl + k</code> = 从光标处删除文本直到行尾</p></li><li><p><code>alt + f</code> = 向后一个单词</p></li><li><p><code>alt + b</code> = 向前一个单词</p></li><li><p>重复使用上一个命令: <code>!!</code></p></li><li><p><code>dstat</code>
View the net speed in late 10 seconds and other functions.</p></li><li><p>Symbolic links</p></li><li><p>I/O redirection</p></li></ol><blockquote><p>I/O redirection allows us to change where output goes and where input comes from. Normally, output goes to the screen and input comes from the keyboard, but with I/O redirection we can change that.</p></blockquote><ol start=26><li><p>The Letter-Based Method</p><blockquote><p>In addition to the method described above there is a second way to change permissions. Chmod uses either the hexadecimal representation of the permissions or a letter-based representation. The letter-based representation is [ugoa][+-][rwx]. This is one of the letters u (user=file owner), g (group), o (others), a (all users, groups and others); followed by + or - to add or remove permissions; and then the symbolic representation of the permissions in the form of r(read) w(write) x(execute). To extend Write permissions to all for the file &ldquo;file.txt&rdquo;,</p></blockquote><p>For example, you would type</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>chmod a+w file.txt
</span></span></code></pre></div></li><li><p><code>uptime</code>
Tell how long the system has been running.</p></li><li><p>Change user</p><pre tabindex=0><code>su [username]
</code></pre><p>退出此用户: <code>exit</code></p></li><li><p>Add user</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>useradd <span class=o>[</span>username<span class=o>]</span>
</span></span><span class=line><span class=cl>passwd <span class=o>[</span>username<span class=o>]</span>
</span></span></code></pre></div></li><li><p>Delete user</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>userdel <span class=o>[</span>-r<span class=o>]</span> <span class=o>[</span>username<span class=o>]</span>
</span></span></code></pre></div><p>-r = remove the home dir of [username]</p></li><li><p>Print current effective user</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>whoami
</span></span></code></pre></div></li><li><p>linux将cpas->ctrl</p><p>(1) Edit <code>/etc/default/keyboard</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-diff data-lang=diff><span class=line><span class=cl># KEYBOARD CONFIGURATION FILE
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># Consult the keyboard(5) manual page.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>XKBMODEL=&#34;pc105&#34;
</span></span><span class=line><span class=cl>XKBLAYOUT=&#34;cn&#34;
</span></span><span class=line><span class=cl>XKBVARIANT=&#34;&#34;
</span></span><span class=line><span class=cl><span class=gd>- XKBOPTIONS=&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=gi>+ XKBOPTIONS=&#34;ctrl =nocaps&#34;
</span></span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>BACKSPACE=&#34;guess&#34;
</span></span></code></pre></div><p>(2) 运行如下命令，设置生效</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo dpkg-reconfigure keyboard-configuration
</span></span></code></pre></div></li><li><p>cp 排除某个目录
例. 有目录b, c, 复制到<code>/f</code>下，排除b</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cp -r !<span class=o>(</span>b<span class=o>)</span> /f
</span></span></code></pre></div></li><li><p>在linux下弹出u盘命令（假设u盘设备是sdb1）</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo eject -s /dev/sdb1
</span></span></code></pre></div></li><li><p>ccat</p><p>内置的<code>cat</code>查看命令没有语法高亮，但是使用<code>ccat</code>可以有这个作用。</p><p>下载二进制代码文件</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>wget https://github.com/jingweno/ccat/releases/download/v1.1.0/linux-amd64-1.1.0.tar.gz
</span></span></code></pre></div><p>解压</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>tar xfz linux-amd64-1.1.0.tar.gz
</span></span></code></pre></div><p>将<code>ccat</code>文件复制到<code>/usr/local/bin/</code>文件夹下</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cp linux-amd64-1.1.0/ccat /usr/local/bin/
</span></span></code></pre></div><p>使用<code>ccat</code>命令查看文件会发现文件显示变成彩色的了。</p></li><li><p>ssh & public key</p><p>(1) 本地生成公钥</p><pre tabindex=0><code>ssh-keygen -t rsa
</code></pre><p>之后全部默认回车即可。</p><p>(2) 将本地公钥<code>~/.ssh/id_rsa.pub</code>复制到远程主机<code>~/.ssh/autoorized_keys</code>文件中，如果目录和文件皆不存在，直接创建新的文件。
(3) 重启ssh服务</p><pre tabindex=0><code>service ssh restart
</code></pre><p>之后与主机相连就不必再输入密码。</p></li><li><p><code>ls</code>的<code>-S</code>选项</p><blockquote><p>sort by WORD instead of name = none (-U), size (-S), time (-t), version (-v), extension (-X)</p><p>准确来说就是将文件从大到小进行排序。</p></blockquote></li><li><p><code>tab</code></p><ul><li>命令补全 = tab接在一串指令的第一个字的后面</li><li>文件补齐 = tab接在一串指令的第二个字的后面</li></ul></li><li><p><code>find</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>find dir_name -name filename_to_be_searched
</span></span></code></pre></div></li><li><p>在 bash 里，使用 <code>Ctrl-R</code> 而不是上下光标键来查找历史命令。</p></li><li><p>使用 <code>man ascii</code> 来查看 ASCII 表。</p></li><li><p>命令行注释命令: <code>alt + #</code></p></li></ol><hr><h3 id=linux各目录>Linux各目录</h3><h4 id=etc>/etc</h4><ol><li>含义: and so on</li><li>功能: 存放零零碎碎的东西</li></ol><h3 id=linux各种解压命令汇总>linux各种解压命令汇总</h3><h4 id=tarxz><code>.tar.xz</code></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>$xz</span> -d filename.tar.xz
</span></span><span class=line><span class=cl><span class=nv>$tar</span> -xvf filename.tar
</span></span></code></pre></div><h4 id=targz><code>tar.gz</code></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>tar -zxvf xxx.tar.gz
</span></span></code></pre></div><h4 id=rar><code>.rar</code></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>unrar e file.rar <span class=c1># e = 解压压缩包中的全部问价至文件夹</span>
</span></span></code></pre></div><p>今天因要下载win10 iso文件，奈何文件太大，只好利用winrar软件将4g的iso文件分成了4个1g的小文件，转到linux下后，直接将4个小文件提取了出来，但问题是4个提取出来的文件并没有合并在一起，这可不是我想要的结果，百度一查，赶紧在linux安装了rar,只需用<code>rar e name.part1.rar</code>，提取后的文件就是合并后的文件了。</p><hr><h3 id=problems>Problems</h3><h4 id=在ubuntu1901上安装curl出现问题curl---depends-libcurl4--7580-2ubuntu38-but-7653-1ubuntu3-is-to-be-installed>在ubuntu19.01上安装curl出现问题curl = Depends: libcurl4 (= 7.58.0-2ubuntu3.8) but 7.65.3-1ubuntu3 is to be installed</h4><p>问题如下</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>The following packages have unmet dependencies =
</span></span><span class=line><span class=cl>curl  = Depends: libcurl4 (= 7.58.0-2ubuntu3.8) but 7.65.3-1ubuntu3 is to be installed
</span></span><span class=line><span class=cl>E: Unable to correct problems, you have held broken packages.
</span></span></code></pre></div><p>解决方法:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo apt-get purge libcurl4
</span></span></code></pre></div><p>接下来就可以正常安装<code>curl</code>了。</p><h4 id=linux升级gdb>linux升级gdb</h4><p>gdb官网下载太慢，<a href=https://mirrors.tuna.tsinghua.edu.cn/gnu/gdb/ target=_blank rel="noopener noreferrer">清华大学镜像站</a>可以下载。</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://www.cnblogs.com/guochaoxxl/p/10428991.html target=_blank rel="noopener noreferrer">https://www.cnblogs.com/guochaoxxl/p/10428991.html</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></main><footer><hr>&copy; <a href=https://ongoingblog.org/ target=_self>ONGOING-Z</a> 2020 -- 2026</footer></body></html>