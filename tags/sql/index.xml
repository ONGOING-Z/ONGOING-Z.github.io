<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Sql on ongoing's blog</title><link>https://ongoingblog.org/tags/sql/</link><description>Recent content in Sql on ongoing's blog</description><generator>Hugo</generator><language>zh-cn</language><lastBuildDate>Wed, 21 Jan 2026 10:58:49 +0800</lastBuildDate><atom:link href="https://ongoingblog.org/tags/sql/index.xml" rel="self" type="application/rss+xml"/><item><title>MySQL 主从复制</title><link>https://ongoingblog.org/2026/01/mysql-repli/</link><pubDate>Wed, 21 Jan 2026 10:58:49 +0800</pubDate><guid>https://ongoingblog.org/2026/01/mysql-repli/</guid><description>&lt;p&gt;使用 dump 命令可以进行数据库的复制。&lt;/p&gt;
&lt;p&gt;通过 binlog 进行主从复制。


















 
 






 
 
 
 
 
 
 
 
 
 
 






 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 







 
 
 
 
 



&lt;figure class="pswp-gallery" style="display: inline-block; margin: 0;"&gt;
 &lt;a href="https://image.ongoingblog.org/posts/2026-01-21-mysql-repli/repli.png"
 class="image-loading-container"
 
 data-pswp-width="506"
 data-pswp-height="339"
 
 target="_blank"&gt;
 &lt;img src="#ZgotmplZ"
 data-src="https://image.ongoingblog.org/posts/2026-01-21-mysql-repli/repli.png?format=webp&amp;amp;quality=85"
 alt=""
 
 class="lazy-image"
 
 width="506"
 height="339"
 
 style="max-width: 100%; height: auto;" /&gt;
 &lt;/a&gt;
&lt;/figure&gt;

&lt;/p&gt;
&lt;p&gt;主从复制的整体流程如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;主库在事务内写入 binlog&lt;/li&gt;
&lt;li&gt;主库通过 dump 线程和 从库 IO 线程之间建立的连接，把 binlog event 传输给从库&lt;/li&gt;
&lt;li&gt;从库 IO 线程读取到主库传输的 binlog event，写入本地的 relay log&lt;/li&gt;
&lt;li&gt;从库的 SQL 线程读取 relay log，回放对应事务操作&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;从库&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;IO 线程负责从主库接收 binlog 日志，并保存在本地的 relay log 中&lt;/li&gt;
&lt;li&gt;SQL 线程负责解析和重放 relay log 中的 event&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;bin log&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;追加写入，不会覆盖旧日志&lt;/li&gt;
&lt;/ul&gt;


















 
 






 
 
 
 
 
 
 
 
 
 
 






 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 







 
 
 
 
 



&lt;figure class="pswp-gallery" style="display: inline-block; margin: 0;"&gt;
 &lt;a href="https://image.ongoingblog.org/posts/2026-01-21-mysql-repli/img.png"
 class="image-loading-container"
 
 data-pswp-width="1141"
 data-pswp-height="463"
 
 target="_blank"&gt;
 &lt;img src="#ZgotmplZ"
 data-src="https://image.ongoingblog.org/posts/2026-01-21-mysql-repli/img.png?format=webp&amp;amp;quality=85"
 alt=""
 
 class="lazy-image"
 
 width="1141"
 height="463"
 
 style="max-width: 100%; height: auto;" /&gt;
 &lt;/a&gt;
&lt;/figure&gt;

&lt;p&gt;

















 
 






 
 
 
 
 
 
 
 
 
 
 






 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 







 
 
 
 
 



&lt;figure class="pswp-gallery" style="display: inline-block; margin: 0;"&gt;
 &lt;a href="https://image.ongoingblog.org/posts/2026-01-21-mysql-repli/img_1.png"
 class="image-loading-container"
 
 data-pswp-width="1084"
 data-pswp-height="83"
 
 target="_blank"&gt;
 &lt;img src="#ZgotmplZ"
 data-src="https://image.ongoingblog.org/posts/2026-01-21-mysql-repli/img_1.png?format=webp&amp;amp;quality=85"
 alt=""
 
 class="lazy-image"
 
 width="1084"
 height="83"
 
 style="max-width: 100%; height: auto;" /&gt;
 &lt;/a&gt;
&lt;/figure&gt;


&lt;a href="https://dev.mysql.com/doc/refman/8.0/en/binary-log.html"target="_blank" rel="noopener noreferrer"&gt;https://dev.mysql.com/doc/refman/8.0/en/binary-log.html&lt;/a&gt;&lt;/p&gt;</description></item><item><title>MySQL: redo log</title><link>https://ongoingblog.org/2025/09/redo-log/</link><pubDate>Mon, 08 Sep 2025 20:13:05 +0800</pubDate><guid>https://ongoingblog.org/2025/09/redo-log/</guid><description>&lt;h3 id="一背景"&gt;一、背景&lt;/h3&gt;


















 
 






 
 
 
 
 
 
 
 
 
 
 






 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 







 
 
 
 
 



&lt;figure class="pswp-gallery" style="display: inline-block; margin: 0;"&gt;
 &lt;a href="https://image.ongoingblog.org/posts/2025-09-08-redo-log/redolog_01.png"
 class="image-loading-container"
 
 data-pswp-width="1104"
 data-pswp-height="254"
 
 target="_blank"&gt;
 &lt;img src="#ZgotmplZ"
 data-src="https://image.ongoingblog.org/posts/2025-09-08-redo-log/redolog_01.png?format=webp&amp;amp;quality=85"
 alt=""
 
 class="lazy-image"
 
 width="1104"
 height="254"
 
 style="max-width: 100%; height: auto;" /&gt;
 &lt;/a&gt;
&lt;/figure&gt;

&lt;p&gt;redo log 可以叫作重做日志。主要作用是数据库崩溃后的恢复。&lt;/p&gt;
&lt;p&gt;崩溃恢复是“载入状态”而非“执行补偿”，类似于载入存档。&lt;/p&gt;
&lt;p&gt;直接应用物理修改，不再经过 sql 解析和各种检查。
为什么“不执行：SQL 解析、索引查找、触发器、外键检查等”呢？是因为生成的各种 log 就是经过的这个阶段的产物。&lt;/p&gt;


















 
 






 
 
 
 
 
 
 
 
 
 
 






 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 







 
 
 
 
 



&lt;figure class="pswp-gallery" style="display: inline-block; margin: 0;"&gt;
 &lt;a href="https://image.ongoingblog.org/posts/2025-09-08-redo-log/redolog_02.png"
 class="image-loading-container"
 
 data-pswp-width="826"
 data-pswp-height="215"
 
 target="_blank"&gt;
 &lt;img src="#ZgotmplZ"
 data-src="https://image.ongoingblog.org/posts/2025-09-08-redo-log/redolog_02.png?format=webp&amp;amp;quality=85"
 alt=""
 
 class="lazy-image"
 
 width="826"
 height="215"
 
 style="max-width: 100%; height: auto;" /&gt;
 &lt;/a&gt;
&lt;/figure&gt;

&lt;h3 id="二恢复决策"&gt;二、恢复决策&lt;/h3&gt;























 
 






 
 
 
 
 
 
 
 
 
 
 






 
 
 
 
 
 









&lt;figure class="pswp-gallery" style="display: inline-block; margin: 0;"&gt;
 &lt;a href="https://image.ongoingblog.org/posts/2025-09-08-redo-log/redo_log.svg"
 class="image-loading-container"
 
 data-pswp-width="800"
 data-pswp-height="600"
 
 target="_blank"&gt;
 &lt;img src="#ZgotmplZ"
 data-src="https://image.ongoingblog.org/posts/2025-09-08-redo-log/redo_log.svg"
 alt=""
 class="lazy-image"
 
 style="max-width: 100%; height: auto;" /&gt;
 &lt;/a&gt;
 
&lt;/figure&gt;


















 
 






 
 
 
 
 
 
 
 
 
 
 






 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 







 
 
 
 
 



&lt;figure class="pswp-gallery" style="display: inline-block; margin: 0;"&gt;
 &lt;a href="https://image.ongoingblog.org/posts/2025-09-08-redo-log/redolog_03.png"
 class="image-loading-container"
 
 data-pswp-width="1178"
 data-pswp-height="380"
 
 target="_blank"&gt;
 &lt;img src="#ZgotmplZ"
 data-src="https://image.ongoingblog.org/posts/2025-09-08-redo-log/redolog_03.png?format=webp&amp;amp;quality=85"
 alt=""
 
 class="lazy-image"
 
 width="1178"
 height="380"
 
 style="max-width: 100%; height: auto;" /&gt;
 &lt;/a&gt;
&lt;/figure&gt;

&lt;p&gt;在理想情况下：redo log(COMMIT) 时，binlog 一定已经落盘。&lt;/p&gt;
&lt;p&gt;当 redo log 和 binlog 状态矛盾时，以 redo log 为准。宁可主从不一致，也不能丢失已提交的数据。&lt;/p&gt;
&lt;h3 id="三参考"&gt;三、参考&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://dev.mysql.com/doc/refman/8.0/en/innodb-recovery.html"target="_blank" rel="noopener noreferrer"&gt;InnoDB Recovery&lt;/a&gt;&lt;/p&gt;</description></item><item><title>MySQL: undo log</title><link>https://ongoingblog.org/2025/09/undo-log/</link><pubDate>Wed, 03 Sep 2025 14:58:47 +0800</pubDate><guid>https://ongoingblog.org/2025/09/undo-log/</guid><description>&lt;p&gt;实现撤销 (undo) 操作。&lt;/p&gt;
&lt;p&gt;关键在于记录一份修改前的记录 (前置镜像)。&lt;/p&gt;
&lt;p&gt;保存的是数据的现场。&lt;/p&gt;
&lt;p&gt;例如有这样一张表 order&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-java" data-lang="java"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;order_id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;person_id&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;amount&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果要更新前 amount=10, 更新后 amount=20&lt;/p&gt;
&lt;p&gt;那么 undo log 就会记录这个差异，记录前置镜像 10，记录后置镜像 20.&lt;/p&gt;
&lt;p&gt;我问了下 ds 是否可以查看 MySQL 的 undo log 日志，看下前置镜像的保存。
但是它回复说这个是二进制的，我看不了。&lt;/p&gt;
&lt;p&gt;&amp;ldquo;重做&amp;rdquo; - 向前恢复（重做已提交的操作）
&amp;ldquo;回滚&amp;rdquo; - 向后撤销（撤销未提交的操作）&lt;/p&gt;
&lt;p&gt;redo log 是预写日志的一种。&lt;/p&gt;
&lt;p&gt;redo log = 数据库的&amp;quot;操作日志&amp;quot;（WAL 的实现）&lt;/p&gt;
&lt;p&gt;bin(binary) log: 二进制日志，归档日志。查询的操作不会记录，会记录变更的操作。
这个日志是&lt;a href="https://ongoingblog.org/2026/01/mysql-repli/"&gt;主从复制&lt;/a&gt;同步的关键日志。&lt;/p&gt;</description></item><item><title>MySQL processlist</title><link>https://ongoingblog.org/2025/08/mysql-processlist/</link><pubDate>Sat, 09 Aug 2025 14:45:31 +0800</pubDate><guid>https://ongoingblog.org/2025/08/mysql-processlist/</guid><description>&lt;p&gt;显示当前 MySQL 服务器实例中正在运行的所有线程（客户端连接和内部线程）的信息。相当于活动监视器。&lt;/p&gt;
&lt;p&gt;是 MySQL 数据库管理员和开发人员必备的诊断工具。它提供了数据库服务器当前活动的实时快照。&lt;/p&gt;
&lt;p&gt;触发的两种方式：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;show&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;processlist&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;INFORMATION_SCHEMA&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;PROCESSLIST&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;上面这两种方式是相同的效果。&lt;/p&gt;


















 
 






 
 
 
 
 
 
 
 
 
 
 






 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 







 
 
 
 
 



&lt;figure class="pswp-gallery" style="display: inline-block; margin: 0;"&gt;
 &lt;a href="https://image.ongoingblog.org/posts/2025-08-09-mysql-processlist/show_processlist.png"
 class="image-loading-container"
 
 data-pswp-width="1087"
 data-pswp-height="338"
 
 target="_blank"&gt;
 &lt;img src="#ZgotmplZ"
 data-src="https://image.ongoingblog.org/posts/2025-08-09-mysql-processlist/show_processlist.png?format=webp&amp;amp;quality=85"
 alt=""
 
 class="lazy-image"
 
 width="1087"
 height="338"
 
 style="max-width: 100%; height: auto;" /&gt;
 &lt;/a&gt;
&lt;/figure&gt;</description></item><item><title>MySQL 终端帮助工具：mycli</title><link>https://ongoingblog.org/2025/06/2025-06-12-mysql-mycli/</link><pubDate>Thu, 12 Jun 2025 13:45:57 +0800</pubDate><guid>https://ongoingblog.org/2025/06/2025-06-12-mysql-mycli/</guid><description>&lt;h3 id="一背景"&gt;一、背景&lt;/h3&gt;
&lt;p&gt;mycli&lt;sup id="fnref:1"&gt;&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;是 MySQL 的命令行小工具，支持 tab 快速弹出命令，加快效率。&lt;/p&gt;


















 
 






 
 
 
 
 
 
 
 
 
 
 






 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 







 
 
 
 
 



&lt;figure class="pswp-gallery" style="display: inline-block; margin: 0;"&gt;
 &lt;a href="https://image.ongoingblog.org/posts/2025-06-12-mysql-mycli/mycli.png"
 class="image-loading-container"
 
 data-pswp-width="872"
 data-pswp-height="417"
 
 target="_blank"&gt;
 &lt;img src="#ZgotmplZ"
 data-src="https://image.ongoingblog.org/posts/2025-06-12-mysql-mycli/mycli.png?format=webp&amp;amp;quality=85"
 alt=""
 
 class="lazy-image"
 
 width="872"
 height="417"
 
 style="max-width: 100%; height: auto;" /&gt;
 &lt;/a&gt;
&lt;/figure&gt;

&lt;h3 id="二一些使用方法"&gt;二、一些使用方法&lt;/h3&gt;
&lt;table&gt;
 &lt;thead&gt;
 &lt;tr&gt;
 &lt;th&gt;场景&lt;/th&gt;
 &lt;th&gt;方法&lt;/th&gt;
 &lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
 &lt;tr&gt;
 &lt;td&gt;加载并执行外部 sql 文件&lt;/td&gt;
 &lt;td&gt;source 文件的绝对路径&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id="三mysql-的安装"&gt;三、MySQL 的安装&lt;/h3&gt;
&lt;p&gt;推荐直接用 docker 安装，更方便一些，有现成的容器环境，直接下载下来在本地启动起来就可以，不污染宿主机环境。&lt;/p&gt;
&lt;h3 id="四在-dbeaver-中连接报错public-key-retrieval-is-not-allowed"&gt;四、在 dbeaver 中连接报错：Public Key Retrieval is not allowed&lt;/h3&gt;


















 
 






 
 
 
 
 
 
 
 
 
 
 






 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 
 







 
 
 
 
 



&lt;figure class="pswp-gallery" style="display: inline-block; margin: 0;"&gt;
 &lt;a href="https://image.ongoingblog.org/posts/2025-06-12-mysql-mycli/allowPublicKeyRetrieval.png"
 class="image-loading-container"
 
 data-pswp-width="700"
 data-pswp-height="507"
 
 target="_blank"&gt;
 &lt;img src="#ZgotmplZ"
 data-src="https://image.ongoingblog.org/posts/2025-06-12-mysql-mycli/allowPublicKeyRetrieval.png?format=webp&amp;amp;quality=85"
 alt=""
 
 class="lazy-image"
 
 width="700"
 height="507"
 
 style="max-width: 100%; height: auto;" /&gt;
 &lt;/a&gt;
&lt;/figure&gt;

&lt;p&gt;也可以在连接串中设置属性 allowPublicKeyRetrieval。&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;&lt;a href="https://www.mycli.net/"target="_blank" rel="noopener noreferrer"&gt;https://www.mycli.net/&lt;/a&gt;&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</description></item><item><title>sql pad space</title><link>https://ongoingblog.org/2025/05/sql-pad-space/</link><pubDate>Wed, 07 May 2025 09:51:18 +0800</pubDate><guid>https://ongoingblog.org/2025/05/sql-pad-space/</guid><description>&lt;p&gt;就是一个左侧填充的函数。&lt;/p&gt;
&lt;p&gt;类似位数固定，不满则填充占位符号。&lt;/p&gt;</description></item><item><title>使用 SQL 找出两个数据集中的不同点</title><link>https://ongoingblog.org/2025/03/find-difference-in-two-data-set-by-sql/</link><pubDate>Sat, 01 Mar 2025 10:39:00 +0800</pubDate><guid>https://ongoingblog.org/2025/03/find-difference-in-two-data-set-by-sql/</guid><description>&lt;figure class="pswp-gallery" style="display: inline-block; margin: 0;"&gt;
 &lt;a href="https://image.ongoingblog.org/posts/2025-03-01-find-difference-in-two-data-set-by-sql/TwoCircle.png"
 class="image-loading-container"
 
 data-pswp-width="854"
 data-pswp-height="480"
 
 target="_blank"&gt;
 &lt;img src="#ZgotmplZ"
 data-src="https://image.ongoingblog.org/posts/2025-03-01-find-difference-in-two-data-set-by-sql/TwoCircle.png?format=webp&amp;amp;quality=85"
 alt=""
 
 class="lazy-image"
 
 width="854"
 height="480"
 
 style="max-width: 100%; height: auto;" /&gt;
 &lt;/a&gt;
&lt;/figure&gt;

&lt;p&gt;思路：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;找到 A 和 B 的公共部分 C, C = join A and B&lt;/li&gt;
&lt;li&gt;A 的特有部分为 A - C, not in C but in A&lt;/li&gt;
&lt;li&gt;B 的特有部分为 B - C, not in C but in B&lt;/li&gt;
&lt;/ol&gt;</description></item><item><title>MySQL crash course reading notes</title><link>https://ongoingblog.org/2020/10/mysql-crash-course-reading-notes/</link><pubDate>Fri, 02 Oct 2020 17:22:33 +0800</pubDate><guid>https://ongoingblog.org/2020/10/mysql-crash-course-reading-notes/</guid><description>&lt;p&gt;记录一些在读这本书&lt;a href="https://book.douban.com/subject/3354490/"target="_blank" rel="noopener noreferrer"&gt;《mysql 必知必会》&lt;/a&gt;时一些重要的概念。&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="1-了解数据库"&gt;1. 了解数据库&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;database&lt;/li&gt;
&lt;li&gt;table(column, datatype, row)&lt;/li&gt;
&lt;li&gt;row == record&lt;/li&gt;
&lt;li&gt;schema(模式): 关于数据库和表的布局及特性的信息&lt;/li&gt;
&lt;li&gt;primary key&lt;/li&gt;
&lt;li&gt;表中任何列都可以作为主键
&lt;ul&gt;
&lt;li&gt;任意两行都不具有相同的主键值&lt;/li&gt;
&lt;li&gt;每个行都必须具有一个主键值 (主键列不允许 NULL 值)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;sql(structured query language): 结构化查询语言&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="2-mysql-简介"&gt;2. MySQL 简介&lt;/h3&gt;
&lt;p&gt;MySQL 命令行登录&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;mysql -u root -p
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="3-使用-mysql"&gt;3. 使用 MySQL&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;使用数据库 = use database_name;&lt;/li&gt;
&lt;li&gt;显示数据库 = show databases;&lt;/li&gt;
&lt;li&gt;获得数据库内表的列表 = show tables;&lt;/li&gt;
&lt;li&gt;显示表列 = show columns from table_name;&lt;/li&gt;
&lt;li&gt;自增量 = auto_increment&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="4-检索数据"&gt;4. 检索数据&lt;/h3&gt;
&lt;p&gt;mysql 命令行&lt;strong&gt;必须加上分号&lt;/strong&gt;来结束 sql 语句。
sql 语句不区分大小写，但是对关键字进行大写更易于阅读。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;检索单个列&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;select&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;prod_name&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;from&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;table_name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;检索多个列 = 在 select 后给出多个列名，列名间有逗号。&lt;/p&gt;</description></item><item><title>SQL 语言的基本使用</title><link>https://ongoingblog.org/2020/04/basic-of-sql/</link><pubDate>Sun, 19 Apr 2020 19:41:09 +0800</pubDate><guid>https://ongoingblog.org/2020/04/basic-of-sql/</guid><description>&lt;p&gt;一月份的时候有一个考察，但是当时连一个很简单的语句都不会写了，之后就在&lt;a href="https://sqlbolt.com"target="_blank" rel="noopener noreferrer"&gt;SQLBolt&lt;/a&gt;上进行了一个回顾，这里进行记录，以后方便随时回来查看。&lt;/p&gt;
&lt;h3 id="1-select"&gt;1. SELECT&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-SQL" data-lang="SQL"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;FROM&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;table_name&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="2-queries-with-constraints"&gt;2. Queries with constraints&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;WHERE clause&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-sql" data-lang="sql"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;SELECT&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;column&lt;/span&gt;&lt;span class="p"&gt;,...&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="n"&gt;FORM&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;table&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;WHERE&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;condition&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Operator | SQL Example
=-: | :-:
BETWEEN &amp;hellip; AND &amp;hellip; | clo_name &lt;strong&gt;BETWEEN&lt;/strong&gt; 0.5 &lt;strong&gt;AND&lt;/strong&gt; 1.5
NOT BETWEEN &amp;hellip; AND &amp;hellip; | clo_name NOT &lt;strong&gt;BETWEEN&lt;/strong&gt; 2000 &lt;strong&gt;AND&lt;/strong&gt; 2010
IN (&amp;hellip;) | clo_name &lt;strong&gt;IN&lt;/strong&gt; (1, 3, 5)
NOT IN (&amp;hellip;) | col_name &lt;strong&gt;NOT IN&lt;/strong&gt; (1, 3, 5)
表 1&lt;/p&gt;
&lt;p&gt;Operator | Condition | Example
=-: | :-: | :-:
LIKE | Case insensitive exact string comparison | col_name &lt;strong&gt;LIKE&lt;/strong&gt; &amp;lsquo;abc&amp;rsquo;
NOT LIKE | Case insensitive exact string inequality comparison | col_name &lt;strong&gt;NOT LIKE&lt;/strong&gt; &amp;lsquo;abc&amp;rsquo;
% | Match(only with LIKE or NOT LIKE | col_name &lt;strong&gt;LIKE&lt;/strong&gt; &amp;lsquo;%hello%&amp;rsquo;
_ | Used to match a single character(only with LIKE or NOT LIKE) | col_name &lt;strong&gt;LIKE&lt;/strong&gt; &amp;ldquo;AN_&amp;rdquo;
IN (&amp;hellip;) | String exists in a list | col_name &lt;strong&gt;IN&lt;/strong&gt; (&amp;ldquo;A&amp;rdquo;, &amp;ldquo;B&amp;rdquo;)
NOT IN (&amp;hellip;) | String does not exit in a list | col_name &lt;strong&gt;NOT IN&lt;/strong&gt; (&amp;ldquo;C&amp;rdquo;, &amp;ldquo;E&amp;rdquo;)
表 2&lt;/p&gt;</description></item></channel></rss>