<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Pycharm报错Invalid python interpreter | ongoing's blog</title><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css></head><body><nav><ul class=menu><li><a href=/>首页</a></li><li><a href=/categories/>分类</a></li><li><a href=/about/>关于</a></li></ul><hr></nav><div class=article-meta><h1><span class=title>Pycharm报错Invalid python interpreter</span></h1><h2 class=date>2025/03/30</h2></div><main><h4 id=一背景>一、背景</h4><p>今天需要使用manim来画图，用pycharm打开之后，在命令行执行<code>venv/bin/manim xxx</code>命令报错：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Invalid python interpreter
</span></span></code></pre></div><p>我调整了下pycharm中运行的configuration配置的python解释器路径（位于项目根目录下的<code>venv/bin</code>下的python可执行程序，如下图）</p><div style=text-align:center><img src=venv_bin_python.png alt style=display:block;margin:auto></div><p>重新执行命令，依旧报错。</p><h4 id=二问题解决>二、问题解决</h4><p>我打开<code>venv/bin/manim</code>文件，突然发现马赛克这一段的路径并不是当前项目的路径<div style=text-align:center><img src=venv_bin_manim.png alt style=display:block;margin:auto></div></p><p>因为最近我在整理这台电脑的文档结构目录，把各个类型的文件路径重新进行了划分，但是这里的路径还是旧项目所在的路径。</p><p>重新更新了下<code>#!</code>后面的路径，manim可以正常执行了。</p><h4 id=三第二个问题>三、第二个问题</h4><p>在项目跟目录下使用命令<code>source venv/bin/activate</code>激活虚拟环境后，</p><div style=text-align:center><img src=virtual_environment_mark.png alt style=display:block;margin:auto></div><p>输入指令<code>manim</code>，还是不生效，需要指定全路径<code>venv/bin/manim</code>才能正常执行。</p><p>我问了一下deepseek这个问题
<img src=question_deepseek_01.png alt></p><p>它可以正确识别出我的问题，并且给了五种方法
<img src=answer_deepseek_01.png alt></p><p>我继续追问
<img src=answer_deepseek_02.png alt></p><p>这个路径错误，我马上联想到上面的情形，可能是文件<code>venv/bin/activate</code>中的路径也是错误的！</p><img src=venv_bin_activate.png alt><p>确实是这个问题，重新更新成正确的路径后，manim命令可以正常识别了。</p><h4 id=四如何从根源上解决这个问题>四、如何从根源上解决这个问题？</h4><p>因为项目路径可能会再变，不能下次项目文件夹再次发生了变动，又需要对venv下的命令路径重新适配.</p><p>路径硬编码问题：虚拟环境中的可执行文件包含了绝对路径，移动项目后会导致路径失效。</p></main><script>document.addEventListener("DOMContentLoaded",function(){const e=new PhotoSwipeLightbox({gallery:".pswp-gallery",children:"a",pswpModule:PhotoSwipe});e.init()})</script>